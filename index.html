<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <style>
        .center {
            margin-left: auto;
            margin-right: auto;
            width: auto;
        }
    </style>

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <!--<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">-->
    <title>Review Ranker</title>
</head>

<body>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="d3.layout.cloud.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.4/d3.min.js"></script>
    <script src="d3pie.min.js"></script>



    <header>
        <div>
            <h1>Review Ranker</h1>
            <h2></h2>

            <section id="downloads">
                <a href="https://github.com/L1felock/ReviewRater/zipball/master" class="btn">Download as .zip</a>
                <a href="https://github.com/L1felock/ReviewRater/tarball/master" class="btn">Download as .tar.gz</a>
                <a href="https://github.com/L1felock/ReviewRater" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
            </section>
        </div>
    </header>

    
    <h2>Goals</h2>
    <p style="width:60%">
        The review ranker project's goal is to write a script that can effectively and accurately determine the order in which textual reviews
        should be displayed on a web page containing said reviews. We have a theory that good reviews have a commonality of word use that can
        be exploited throught the use of an algorithm that compares a set of reviews to a set of reviews pre-rated for their usefulness. We believe
        that a proper comparison algorithm and a solid set of data could yield promising results.
    </p>
    <h1>Research</h1>
    <h2>Pie Charts</h2>
    <div id="pieChart" class="center"></div>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/3.4.4/d3.min.js"></script>
    <script src="d3pie.min.js"></script>
    <script class="center">
        var pie = new d3pie("pieChart", {
            "header": {
                "title": {
                    "text": "Most Common Types of Words",
                    "fontSize": 24,
                    "font": "open sans"
                },
                "subtitle": {
                    "text": "A pie chart that displays the most common types of words used in reviews deemed \"useful\".",
                    "color": "#999999",
                    "fontSize": 12,
                    "font": "open sans"
                },
                "titleSubtitlePadding": 9
            },
            "footer": {
                "color": "#999999",
                "fontSize": 10,
                "font": "open sans",
                "location": "bottom-left"
            },
            "size": {
                "canvasWidth": 590,
                "pieOuterRadius": "90%"
            },
            "data": {
                "sortOrder": "value-desc",
                "content": [
                    {
                        "label": "Noun",
                        "value": 39422,
                        "color": "#0066cc"
                    },
                    {
                        "label": "Verb",
                        "value": 6980,
                        "color": "#003366"
                    },
                    {
                        "label": "Adjective",
                        "value": 2883,
                        "color": "#336600"
                    },
                    {
                        "label": "Adverb",
                        "value": 1875,
                        "color": "#669966"
                    },
                    {
                        "label": "Preposition",
                        "value": 976,
                        "color": "#990000"
                    },
                    {
                        "label": "Pronoun",
                        "value": 461,
                        "color": "#cc6600"
                    }
                ]
            },
            "labels": {
                "outer": {
                    "pieDistance": 32
                },
                "inner": {
                    "hideWhenLessThanPercentage": 3
                },
                "mainLabel": {
                    "fontSize": 11
                },
                "percentage": {
                    "color": "#ffffff",
                    "decimalPlaces": 0
                },
                "value": {
                    "color": "#adadad",
                    "fontSize": 11
                },
                "lines": {
                    "enabled": true
                },
                "truncation": {
                    "enabled": true
                }
            },
            "effects": {
                "pullOutSegmentOnClick": {
                    "effect": "linear",
                    "speed": 400,
                    "size": 8
                }
            },
            "misc": {
                "gradient": {
                    "enabled": true,
                    "percentage": 100
                }
            }
        });
    </script>
    <script class="center">
        var pie = new d3pie("pieChart", {
            "header": {
                "title": {
                    "text": "Most Common Types of Words",
                    "fontSize": 24,
                    "font": "open sans"
                },
                "subtitle": {
                    "text": "A pie chart that displays the most common types of words used in reviews deemed \"useful\".",
                    "color": "#999999",
                    "fontSize": 12,
                    "font": "open sans"
                },
                "titleSubtitlePadding": 9
            },
            "footer": {
                "color": "#999999",
                "fontSize": 10,
                "font": "open sans",
                "location": "bottom-left"
            },
            "size": {
                "canvasWidth": 590,
                "pieOuterRadius": "90%"
            },
            "data": {
                "sortOrder": "value-desc",
                "content": [
                    {
                        "label": "Verb",
                        "value": 6980,
                        "color": "#0066cc"
                    },
                    {
                        "label": "Adjective",
                        "value": 2883,
                        "color": "#003366"
                    },
                    {
                        "label": "Adverb",
                        "value": 1875,
                        "color": "#336600"
                    },
                    {
                        "label": "Preposition",
                        "value": 976,
                        "color": "#669966"
                    },
                    {
                        "label": "Pronoun",
                        "value": 461,
                        "color": "#990000"
                    }
                ]
            },
            "labels": {
                "outer": {
                    "pieDistance": 32
                },
                "inner": {
                    "hideWhenLessThanPercentage": 3
                },
                "mainLabel": {
                    "fontSize": 11
                },
                "percentage": {
                    "color": "#ffffff",
                    "decimalPlaces": 0
                },
                "value": {
                    "color": "#adadad",
                    "fontSize": 11
                },
                "lines": {
                    "enabled": true
                },
                "truncation": {
                    "enabled": true
                }
            },
            "effects": {
                "pullOutSegmentOnClick": {
                    "effect": "linear",
                    "speed": 400,
                    "size": 8
                }
            },
            "misc": {
                "gradient": {
                    "enabled": true,
                    "percentage": 100
                }
            }
        });
    </script>
    <p style="width:60%">
        These pie charts outline some of our research into how much the consideration of nouns in our review comparisons
        could affect the outcome of the similarity measurement. With a 75% composition of nouns in the initial corpus partitioning,
        we knew that adding and removing nouns from the comparison metric could greatly alter the potential efficacy of our ranking
        algorithm.
    </p>

    <h2>Word Cloud</h2>
    <script>
        var frequency_list = [{ "text": "start", "size": 10 },
        { "text": "half", "size": 14 },
        { "text": "money", "size": 12 },
        { "text": "pool", "size": 10 },
        { "text": "buffet", "size": 15 },
        { "text": "real", "size": 10 },
        { "text": "hotel", "size": 19 },
        { "text": "looked", "size": 12 },
        { "text": "awesome", "size": 13 },
        { "text": "course", "size": 16 },
        { "text": "gave", "size": 10 },
        { "text": "tasted", "size": 10 },
        { "text": "called", "size": 12 },
        { "text": "part", "size": 13 },
        { "text": "without", "size": 14 },
        { "text": "clean", "size": 12 },
        { "text": "rice", "size": 16 },
        { "text": "outside", "size": 12 },
        { "text": "however", "size": 12 },
        { "text": "definitely", "size": 23 },
        { "text": "sure", "size": 29 },
        { "text": "left", "size": 16 },
        { "text": "work", "size": 15 },
        { "text": "best", "size": 35 },
        { "text": "music", "size": 10 },
        { "text": "love", "size": 34 },
        { "text": "back", "size": 62 },
        { "text": "location", "size": 15 },
        { "text": "restaurants", "size": 12 },
        { "text": "family", "size": 10 },
        { "text": "long", "size": 22 },
        { "text": "ordered", "size": 32 },
        { "text": "two", "size": 41 },
        { "text": "lot", "size": 24 },
        { "text": "water", "size": 16 },
        { "text": "wait", "size": 25 },
        { "text": "bar", "size": 36 },
        { "text": "eating", "size": 12 },
        { "text": "prices", "size": 13 },
        { "text": "liked", "size": 10 },
        { "text": "since", "size": 32 },
        { "text": "wanted", "size": 20 },
        { "text": "ever", "size": 23 },
        { "text": "top", "size": 19 },
        { "text": "bit", "size": 22 },
        { "text": "later", "size": 11 },
        { "text": "review", "size": 21 },
        { "text": "asked", "size": 21 },
        { "text": "meal", "size": 23 },
        { "text": "stars", "size": 21 },
        { "text": "floor", "size": 10 },
        { "text": "three", "size": 16 },
        { "text": "day", "size": 32 },
        { "text": "years", "size": 13 },
        { "text": "served", "size": 17 },
        { "text": "service", "size": 50 },
        { "text": "better", "size": 28 },
        { "text": "shrimp", "size": 12 },
        { "text": "said", "size": 31 },
        { "text": "next", "size": 29 },
        { "text": "point", "size": 11 },
        { "text": "located", "size": 10 },
        { "text": "always", "size": 23 },
        { "text": "either", "size": 10 },
        { "text": "chef", "size": 10 },
        { "text": "could", "size": 43 },
        { "text": "every", "size": 24 },
        { "text": "restaurant", "size": 39 },
        { "text": "free", "size": 20 },
        { "text": "instead", "size": 11 },
        { "text": "bread", "size": 17 },
        { "text": "light", "size": 11 },
        { "text": "parking", "size": 13 },
        { "text": "fried", "size": 18 },
        { "text": "happy", "size": 19 },
        { "text": "especially", "size": 10 },
        { "text": "spicy", "size": 12 },
        { "text": "dish", "size": 20 },
        { "text": "far", "size": 10 },
        { "text": "cream", "size": 19 },
        { "text": "burger", "size": 19 },
        { "text": "red", "size": 14 },
        { "text": "food", "size": 85 },
        { "text": "put", "size": 15 },
        { "text": "like", "size": 126 },
        { "text": "beef", "size": 19 },
        { "text": "business", "size": 12 },
        { "text": "try", "size": 37 },
        { "text": "people", "size": 42 },
        { "text": "brought", "size": 10 },
        { "text": "dishes", "size": 14 },
        { "text": "quite", "size": 13 },
        { "text": "guy", "size": 11 },
        { "text": "friendly", "size": 20 },
        { "text": "less", "size": 11 },
        { "text": "wasn't", "size": 23 },
        { "text": "walked", "size": 10 },
        { "text": "much", "size": 43 },
        { "text": "new", "size": 30 },
        { "text": "tables", "size": 12 },
        { "text": "someone", "size": 10 },
        { "text": "order", "size": 39 },
        { "text": "waiting", "size": 11 },
        { "text": "didn't", "size": 42 },
        { "text": "perfect", "size": 16 },
        { "text": "stop", "size": 10 },
        { "text": "give", "size": 22 },
        { "text": "told", "size": 23 },
        { "text": "tasty", "size": 13 },
        { "text": "probably", "size": 15 },
        { "text": "drinks", "size": 19 },
        { "text": "inside", "size": 17 },
        { "text": "made", "size": 38 },
        { "text": "things", "size": 20 },
        { "text": "hours", "size": 13 },
        { "text": "steak", "size": 14 },
        { "text": "end", "size": 14 },
        { "text": "makes", "size": 10 },
        { "text": "another", "size": 25 },
        { "text": "really", "size": 66 },
        { "text": "fan", "size": 10 },
        { "text": "sweet", "size": 26 },
        { "text": "walk", "size": 12 },
        { "text": "everyone", "size": 13 },
        { "text": "still", "size": 30 },
        { "text": "white", "size": 11 },
        { "text": "yes", "size": 18 },
        { "text": "side", "size": 23 },
        { "text": "well", "size": 57 },
        { "text": "must", "size": 12 },
        { "text": "many", "size": 26 },
        { "text": "last", "size": 22 },
        { "text": "worth", "size": 15 },
        { "text": "club", "size": 13 },
        { "text": "getting", "size": 14 },
        { "text": "something", "size": 25 },
        { "text": "old", "size": 16 },
        { "text": "cool", "size": 14 },
        { "text": "fish", "size": 11 },
        { "text": "also", "size": 63 },
        { "text": "delicious", "size": 23 },
        { "text": "first", "size": 43 },
        { "text": "tell", "size": 13 },
        { "text": "though", "size": 22 },
        { "text": "table", "size": 28 },
        { "text": "style", "size": 10 },
        { "text": "enough", "size": 20 },
        { "text": "breakfast", "size": 12 },
        { "text": "overall", "size": 10 },
        { "text": "house", "size": 15 },
        { "text": "sushi", "size": 12 },
        { "text": "taste", "size": 18 },
        { "text": "pay", "size": 12 },
        { "text": "come", "size": 33 },
        { "text": "whole", "size": 12 },
        { "text": "server", "size": 15 },
        { "text": "oh", "size": 16 },
        { "text": "place", "size": 93 },
        { "text": "staff", "size": 19 },
        { "text": "plate", "size": 10 },
        { "text": "going", "size": 32 },
        { "text": "life", "size": 10 },
        { "text": "kind", "size": 13 },
        { "text": "almost", "size": 12 },
        { "text": "get", "size": 96 },
        { "text": "let", "size": 19 },
        { "text": "else", "size": 11 },
        { "text": "beer", "size": 11 },
        { "text": "good", "size": 108 },
        { "text": "name", "size": 11 },
        { "text": "dinner", "size": 23 },
        { "text": "hard", "size": 12 },
        { "text": "menu", "size": 42 },
        { "text": "fresh", "size": 26 },
        { "text": "tried", "size": 16 },
        { "text": "keep", "size": 10 },
        { "text": "might", "size": 12 },
        { "text": "vegas", "size": 50 },
        { "text": "time", "size": 79 },
        { "text": "friend", "size": 15 },
        { "text": "pretty", "size": 33 },
        { "text": "yelp", "size": 33 },
        { "text": "yet", "size": 11 },
        { "text": "town", "size": 12 },
        { "text": "line", "size": 16 },
        { "text": "full", "size": 17 },
        { "text": "found", "size": 16 },
        { "text": "decided", "size": 16 },
        { "text": "ask", "size": 14 },
        { "text": "bite", "size": 10 },
        { "text": "got", "size": 46 },
        { "text": "lunch", "size": 22 },
        { "text": "bad", "size": 19 },
        { "text": "several", "size": 10 },
        { "text": "group", "size": 10 },
        { "text": "saw", "size": 10 },
        { "text": "think", "size": 35 },
        { "text": "door", "size": 11 },
        { "text": "reviews", "size": 11 },
        { "text": "take", "size": 30 },
        { "text": "feel", "size": 19 },
        { "text": "week", "size": 10 },
        { "text": "experience", "size": 27 },
        { "text": "little", "size": 44 },
        { "text": "cake", "size": 10 },
        { "text": "chocolate", "size": 19 },
        { "text": "fries", "size": 17 },
        { "text": "soup", "size": 12 },
        { "text": "salad", "size": 22 },
        { "text": "front", "size": 14 },
        { "text": "find", "size": 24 },
        { "text": "already", "size": 11 },
        { "text": "never", "size": 31 },
        { "text": "enjoy", "size": 14 },
        { "text": "fun", "size": 14 },
        { "text": "know", "size": 45 },
        { "text": "use", "size": 12 },
        { "text": "times", "size": 18 },
        { "text": "ice", "size": 15 },
        { "text": "comes", "size": 13 },
        { "text": "amazing", "size": 17 },
        { "text": "high", "size": 15 },
        { "text": "nice", "size": 41 },
        { "text": "us", "size": 57 },
        { "text": "store", "size": 13 },
        { "text": "bring", "size": 10 },
        { "text": "cooked", "size": 12 },
        { "text": "anything", "size": 13 },
        { "text": "would", "size": 76 },
        { "text": "stay", "size": 11 },
        { "text": "minutes", "size": 21 },
        { "text": "green", "size": 12 },
        { "text": "felt", "size": 11 },
        { "text": "hour", "size": 16 },
        { "text": "make", "size": 36 },
        { "text": "flavor", "size": 26 },
        { "text": "couple", "size": 13 },
        { "text": "party", "size": 10 },
        { "text": "isn", "size": 10 },
        { "text": "huge", "size": 15 },
        { "text": "select", "size": 14 },
        { "text": "special", "size": 14 },
        { "text": "doesn't", "size": 10 },
        { "text": "look", "size": 18 },
        { "text": "away", "size": 17 },
        { "text": "different", "size": 19 },
        { "text": "maybe", "size": 15 },
        { "text": "chicken", "size": 34 },
        { "text": "cheese", "size": 32 },
        { "text": "flavors", "size": 12 },
        { "text": "everything", "size": 23 },
        { "text": "strip", "size": 19 },
        { "text": "stuff", "size": 10 },
        { "text": "sauce", "size": 33 },
        { "text": "friends", "size": 16 },
        { "text": "big", "size": 22 },
        { "text": "wine", "size": 13 },
        { "text": "super", "size": 13 },
        { "text": "biz", "size": 15 },
        { "text": "check", "size": 21 },
        { "text": "favorite", "size": 18 },
        { "text": "pork", "size": 16 },
        { "text": "home", "size": 17 },
        { "text": "finally", "size": 13 },
        { "text": "one", "size": 110 },
        { "text": "room", "size": 36 },
        { "text": "meat", "size": 18 },
        { "text": "person", "size": 11 },
        { "text": "night", "size": 33 },
        { "text": "second", "size": 10 },
        { "text": "looking", "size": 19 },
        { "text": "items", "size": 15 },
        { "text": "area", "size": 23 },
        { "text": "coming", "size": 11 },
        { "text": "nothing", "size": 15 },
        { "text": "go", "size": 65 },
        { "text": "may", "size": 13 },
        { "text": "right", "size": 37 },
        { "text": "couldn", "size": 12 },
        { "text": "coffee", "size": 13 },
        { "text": "need", "size": 19 },
        { "text": "photos", "size": 18 },
        { "text": "least", "size": 14 },
        { "text": "small", "size": 23 },
        { "text": "loved", "size": 10 },
        { "text": "trying", "size": 11 },
        { "text": "started", "size": 11 },
        { "text": "great", "size": 59 },
        { "text": "done", "size": 11 },
        { "text": "show", "size": 20 },
        { "text": "price", "size": 16 },
        { "text": "even", "size": 55 },
        { "text": "dining", "size": 15 },
        { "text": "say", "size": 31 },
        { "text": "pm", "size": 14 },
        { "text": "spot", "size": 13 },
        { "text": "dessert", "size": 15 },
        { "text": "around", "size": 32 },
        { "text": "took", "size": 20 },
        { "text": "owner", "size": 10 },
        { "text": "places", "size": 13 },
        { "text": "thought", "size": 18 },
        { "text": "quality", "size": 13 },
        { "text": "went", "size": 30 },
        { "text": "call", "size": 12 },
        { "text": "hot", "size": 25 },
        { "text": "came", "size": 38 },
        { "text": "way", "size": 39 },
        { "text": "sandwich", "size": 14 },
        { "text": "enjoyed", "size": 12 },
        { "text": "used", "size": 12 },
        { "text": "pizza", "size": 23 },
        { "text": "see", "size": 39 },
        { "text": "thing", "size": 24 },
        { "text": "drink", "size": 19 },
        { "text": "ok", "size": 14 },
        { "text": "star", "size": 14 },
        { "text": "want", "size": 33 },
        { "text": "actually", "size": 19 },
        { "text": "visit", "size": 18 },
        { "text": "tea", "size": 10 },
        { "text": "bacon", "size": 13 },
        { "text": "open", "size": 16 },
        { "text": "large", "size": 16 },
        { "text": "eat", "size": 24 }];


        var color = d3.scale.linear()
                .domain([0, 1, 2, 3, 4, 5, 6, 10, 15, 20, 100])
                .range(["#ddd", "#ccc", "#bbb", "#aaa", "#999", "#888", "#777", "#666", "#555", "#444", "#333", "#222"]);

        d3.layout.cloud().size([1100, 500])
                .words(frequency_list)
                .rotate(0)
                .fontSize(function (d) { return d.size; })
                .on("end", draw)
                .start();

        function draw(words) {
            d3.select("body").append("svg")
                    .attr("width", 1100)
                    .attr("height", 500)
                    .attr("class", "wordcloud")
                    .append("g")
                    // without the transform, words words would get cutoff to the left and top, they would
                    // appear outside of the SVG area
                    .attr("transform", "translate(550,250)")
                    .selectAll("text")
                    .data(words)
                    .enter().append("text")
                    .style("font-size", function (d) { return d.size + "px"; })
                    .style("fill", function (d, i) { return color(i); })
                    .attr("transform", function (d) {
                        return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
                    })
                    .text(function (d) { return d.text; });
        }
    </script>
    <p style="width:60%">
        note: the word cloud may not appear for you unless you download the webpage and open index.html locally
    </p>
    <p style="width:60%">
        The above word cloud is representative of our research into what kinds of words are used most in what we deemed positive reviews
        (positive reviews being reviews that exceeded a usefulness rating threshold (yelp reviews earch have a usefulness rating)). The bigger
        the word and the lighter the color of it, the more prominent the word was in this particular sample of the yelp corpus. You'll notice
        that the positive reviews most prominently have words that are positive or proactive in nature, like good, get, or like.
        A lot of nouns are also present, which appear
        to be random in nature, but we really have not seen any indication of how different nouns may affect the usefulness of a review.
    </p>

    <h2>Project Results</h2>
    <p style="width:60%">
        Ultimately, Our project was, we believe, unfruitful due to a lack of data on reviews - as well as the inherent complex nature of 
        natural language. In our results from the classifier in the repository, you can see that we were unable to attain a consistent
        outcome using the corpus. Ranking multiple different sets of test and training sets generated using extremely variable algorithms all yielded
        extremely mixed results that gave no indication of a successful ranking.
        We believe that it may have helped if the yelp dataset used to generate the corpus provided a metric for how
        "useless" a review is. With a set of useless reviews, we believe that some sort of weighted comparison metric between a review to be ranked
        and both a set of bad, and a set of good reviews could be used to rank a set of reviews.  
        
        We do believe that further research into this topic would be worthwhile and would eventually yield intriguing
        results with some much more in-depth analysis of the commonality between the reviews.
    </p>
</body>
</html>
